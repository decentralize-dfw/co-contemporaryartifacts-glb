<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Status Co. | Contemporary Artifacts</title>

    <!-- Comfortaa Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;700&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            font-family: 'Comfortaa', cursive;
            margin: 0;
            padding: 0;
            color: #111;
            overflow-x: hidden;
            background-color: #1a0b2e;
        }

        /* SCROLLBAR GİZLEME */
        html, body {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        ::-webkit-scrollbar { display: none; }

        /* LOADER EKRANI - Gradient Arka Plan */
        #loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0d0417 0%, #1a0b2e 25%, #2E0E4A 50%, #664B9E 75%, #1a0b2e 100%);
            background-size: 400% 400%;
            animation: loaderGradient 3s ease infinite;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s ease;
        }

        @keyframes loaderGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Dairesel Progress - Gradient Stroke */
        .progress-ring__circle {
            transition: stroke-dashoffset 0.15s ease-out;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }

        .progress-ring__bg {
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }

        /* 1. ARKA PLAN (Fluid Canvas) */
        #fluid-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            height: var(--app-height, 100vh);
            z-index: -3;
        }

        #bg-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            height: var(--app-height, 100vh);
            z-index: -2;
            background: radial-gradient(ellipse at center, transparent 10%, rgba(10, 5, 20, 0.4) 60%, rgba(10, 5, 20, 0.8) 100%);
            pointer-events: none;
        }

        /* 2. GIF LAYER */
        #gif-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            height: var(--app-height, 100vh);
            z-index: -1;
            pointer-events: none;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        #main-gif {
            display: block;
            opacity: 0;
            transition: opacity 1.0s ease;
        }

        #frozen-canvas {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
            position: absolute;
        }

        #frozen-canvas.visible {
            display: block !important;
            opacity: 1 !important;
        }

        @media (min-width: 769px) {
            #main-gif, #frozen-canvas {
                height: 100%;
                width: auto;
                max-width: none;
                object-fit: contain;
            }
        }

        @media (max-width: 768px) {
            #main-gif, #frozen-canvas {
                width: 100%;
                height: auto;
                max-height: 80vh;
                object-fit: contain;
            }
        }

        /* 3. BLUR & UI */
        #blur-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            height: var(--app-height, 100vh);
            z-index: 5;
            pointer-events: none;
            backdrop-filter: blur(0px);
            -webkit-backdrop-filter: blur(0px);
            -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 30%, black 100%);
            mask-image: linear-gradient(to bottom, transparent 0%, black 30%, black 100%);
        }

        .reveal-element {
            opacity: 0;
            transform: translateY(30px);
            transition: all 1.0s ease-out;
        }
        .reveal-element.visible {
            opacity: 1;
            transform: translateY(0);
        }

        #scroll-indicator-container {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 50;
            transition: opacity 0.8s ease, visibility 0.8s ease;
            pointer-events: none;
        }

        /* Scroll kilitli sınıfı */
        .stop-scrolling {
            height: 100%;
            overflow: hidden;
        }
    </style>
</head>
<body class="w-full stop-scrolling">

    <!-- LOADER - Gradient Dairesel Progress -->
    <div id="loader-overlay">
        <div class="relative w-40 h-40 flex items-center justify-center">
            <svg class="progress-ring" width="160" height="160" viewBox="0 0 160 160">
                <defs>
                    <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#BCA6D1"/>
                        <stop offset="50%" stop-color="#664B9E"/>
                        <stop offset="100%" stop-color="#2E0E4A"/>
                    </linearGradient>
                </defs>
                <circle
                    class="progress-ring__bg"
                    stroke="rgba(255,255,255,0.08)"
                    stroke-width="3"
                    fill="transparent"
                    r="70"
                    cx="80"
                    cy="80"
                />
                <circle
                    id="progress-indicator"
                    class="progress-ring__circle"
                    stroke="url(#progressGradient)"
                    stroke-width="3"
                    stroke-linecap="round"
                    fill="transparent"
                    r="70"
                    cx="80"
                    cy="80"
                    style="stroke-dasharray: 439.82; stroke-dashoffset: 439.82;"
                />
            </svg>
            <div class="absolute flex flex-col items-center">
                <span id="loader-text" class="text-white font-bold text-2xl tracking-wider">0%</span>
            </div>
        </div>
        <div class="mt-6 text-white/40 text-[10px] tracking-[0.4em] uppercase">Contemporary Artifacts</div>
    </div>

    <!-- 1. AKIŞKAN ARKA PLAN -->
    <canvas id="fluid-canvas"></canvas>
    <div id="bg-overlay"></div>

    <!-- 2. GIF -->
    <div id="gif-layer">
        <img id="main-gif" alt="Animated Logo" />
        <canvas id="frozen-canvas" style="display: none;"></canvas>
    </div>

    <!-- 3. BLUR -->
    <div id="blur-layer"></div>

    <!-- 4. UI -->
    <div id="scroll-indicator-container" class="text-[9px] tracking-widest uppercase font-bold text-white/70 drop-shadow-md">
        Scroll
    </div>

    <div class="relative z-10 w-full" id="main-content" style="opacity: 0; transition: opacity 1s ease;">
        <div class="w-full h-[80vh] md:h-screen"></div>

        <section id="textContent" class="w-full flex flex-col items-center justify-center px-2 md:px-0 relative pb-20">
            <div class="absolute inset-0 bg-transparent pointer-events-none" 
                 style="background: radial-gradient(circle at center, rgba(0,0,0,0.2) 0%, transparent 70%);">
            </div>

            <div class="max-w-2xl text-center reveal-element relative z-20 mix-blend-screen px-4 md:px-4 mt-10 md:mt-0">
                <h1 id="mainTitle" class="flex flex-col items-center justify-center text-white drop-shadow-xl mb-6 md:mb-10">
                    <span class="text-3xl md:text-5xl font-bold tracking-widest uppercase leading-tight">
                        STATUS CO.
                    </span>
                    <span class="text-lg md:text-3xl font-light italic tracking-wide uppercase mt-2 md:mt-4 text-purple-100">
                        CONTEMPORARY ARTIFACTS
                    </span>
                    <span class="text-[10px] md:text-xs font-light tracking-[0.4em] uppercase mt-3 md:mt-6 opacity-80 border-t border-white/30 pt-2">
                        DROP 1
                    </span>
                </h1>

                <div class="text-[12px] md:text-[16px] leading-6 md:leading-8 space-y-4 md:space-y-6 text-gray-100 font-medium drop-shadow-md">
                    <p>
                        Status Co. operates as a curation platform where the distinction between daily objects and art is reimagined.
                        Functional designs, crafted in artist studios, are released through a series of limited "drops."
                    </p>
                    <p>
                        The inaugural collection, "Contemporary Artifacts," presents a selection where form and function converge. In this series, vases with unconventional silhouettes, tactile rugs that transform spatial perception, and stools serving as sculptural interpretations of seating are featured.
                    </p>
                </div>

                <div class="w-12 md:w-20 h-[1px] bg-white mx-auto mt-8 md:mt-12 opacity-50"></div>

                <div class="mt-6 md:mt-10 flex justify-center">
                    <a href="https://instagram.com" target="_blank" rel="noopener noreferrer" class="insta-icon text-white" aria-label="Instagram">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 md:w-7 md:h-7" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                            <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                            <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                        </svg>
                    </a>
                </div>
            </div>
        </section>
    </div>

    <script>
        // --- 1. LOADER & GIF FETCH SYSTEM ---
        const gifUrl = "https://raw.githubusercontent.com/decentralize-dfw/co-contemporaryartifacts-glb/main/animated-logo-5sec.gif";
        const progressCircle = document.getElementById('progress-indicator');
        const loaderText = document.getElementById('loader-text');
        const loaderOverlay = document.getElementById('loader-overlay');
        const gifImg = document.getElementById('main-gif');
        const frozenCanvas = document.getElementById('frozen-canvas');
        const mainContent = document.getElementById('main-content');

        // Çember çevresi (2 * pi * r) -> 2 * 3.14159 * 70 ≈ 439.82
        const circumference = 439.82;
        let isLoaded = false;

        // İndirme işlemi (XHR ile Blob olarak çekiyoruz)
        const xhr = new XMLHttpRequest();
        xhr.open('GET', gifUrl, true);
        xhr.responseType = 'blob';

        xhr.onprogress = function(e) {
            if (e.lengthComputable) {
                const percent = Math.round((e.loaded / e.total) * 100);
                setProgress(percent);
            }
        };

        xhr.onload = function() {
            if (this.status === 200) {
                const blob = this.response;
                const objectURL = URL.createObjectURL(blob);

                gifImg.onload = function() {
                    isLoaded = true;
                    finishLoading();
                    // 4.9 saniye sonra dondur
                    setTimeout(freezeGif, 4900);
                };

                gifImg.src = objectURL;
            }
        };

        xhr.send();

        function setProgress(percent) {
            const offset = circumference - (percent / 100) * circumference;
            progressCircle.style.strokeDashoffset = offset;
            loaderText.innerText = `${percent}%`;
        }

        function finishLoading() {
            // Scroll kilidini aç
            document.body.classList.remove('stop-scrolling');

            // Loader'ı yumuşakça gizle
            loaderOverlay.style.opacity = '0';
            setTimeout(() => {
                loaderOverlay.style.display = 'none';
            }, 800);

            // GIF ve İçeriği göster
            gifImg.style.opacity = '1';
            mainContent.style.opacity = '1';
        }

        function freezeGif() {
            try {
                const naturalW = gifImg.naturalWidth;
                const naturalH = gifImg.naturalHeight;

                if (!naturalW || !naturalH) {
                    console.error("GIF boyutları alınamadı");
                    return;
                }

                // Canvas boyutlarını ayarla
                frozenCanvas.width = naturalW;
                frozenCanvas.height = naturalH;

                // CSS stillerini GIF ile eşleştir
                const gifRect = gifImg.getBoundingClientRect();
                frozenCanvas.style.width = gifRect.width + 'px';
                frozenCanvas.style.height = gifRect.height + 'px';

                const ctx = frozenCanvas.getContext('2d');
                ctx.drawImage(gifImg, 0, 0, naturalW, naturalH);

                // Canvas'ı göster
                frozenCanvas.classList.add('visible');

                // GIF'i gizle (biraz gecikmeyle)
                setTimeout(() => {
                    gifImg.style.display = 'none';
                }, 100);

                console.log("GIF başarıyla donduruldu.");
            } catch (e) {
                console.error("Freeze error:", e);
                // Hata durumunda GIF'i görünür bırak
                gifImg.style.display = 'block';
                gifImg.style.opacity = '1';
            }
        }


        // --- 2. ORGANIC WAVY FLUID BACKGROUND ---
        const canvas = document.getElementById('fluid-canvas');
        const ctx = canvas.getContext('2d');

        let width, height;
        let mouse = { x: -9999, y: -9999, active: false };
        let time = 0;

        // Renk paleti
        const colors = [
            { r: 46, g: 14, b: 74 },    // #2E0E4A
            { r: 102, g: 75, b: 158 },  // #664B9E
            { r: 188, g: 166, b: 209 }, // #BCA6D1
            { r: 74, g: 18, b: 89 },    // #4a1259
            { r: 26, g: 8, b: 51 },     // #1a0833
            { r: 61, g: 30, b: 102 }    // #3d1e66
        ];

        // Organik dalga noktaları
        class WavePoint {
            constructor(x, y, colorIndex) {
                this.baseX = x;
                this.baseY = y;
                this.x = x;
                this.y = y;
                this.colorIndex = colorIndex;
                this.phase = Math.random() * Math.PI * 2;
                this.amplitude = 50 + Math.random() * 100;
                this.frequency = 0.0005 + Math.random() * 0.001;
                this.radius = 200 + Math.random() * 300;
            }

            update(t) {
                // Organik hareket - birden fazla sinüs dalgası kombinasyonu
                const wave1 = Math.sin(t * this.frequency + this.phase) * this.amplitude;
                const wave2 = Math.cos(t * this.frequency * 0.7 + this.phase * 1.3) * this.amplitude * 0.6;
                const wave3 = Math.sin(t * this.frequency * 1.3 + this.phase * 0.5) * this.amplitude * 0.4;

                this.x = this.baseX + wave1 + wave2;
                this.y = this.baseY + wave3 + Math.cos(t * this.frequency * 0.5 + this.phase) * this.amplitude * 0.8;

                // Mouse etkileşimi - yumuşak itme (glow yok)
                if (mouse.active) {
                    const dx = this.x - mouse.x;
                    const dy = this.y - mouse.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    const pushRadius = 300;

                    if (dist < pushRadius && dist > 0) {
                        const force = (1 - dist / pushRadius) * 80;
                        this.x += (dx / dist) * force;
                        this.y += (dy / dist) * force;
                    }
                }
            }
        }

        let wavePoints = [];

        function initFluid() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;

            wavePoints = [];

            // Grid şeklinde dalga noktaları oluştur
            const cols = 5;
            const rows = 5;
            const spacingX = width / (cols - 1);
            const spacingY = height / (rows - 1);

            for (let i = 0; i < cols; i++) {
                for (let j = 0; j < rows; j++) {
                    const x = i * spacingX;
                    const y = j * spacingY;
                    const colorIndex = Math.floor(Math.random() * colors.length);
                    wavePoints.push(new WavePoint(x, y, colorIndex));
                }
            }

            // Ekstra rastgele noktalar
            for (let i = 0; i < 8; i++) {
                wavePoints.push(new WavePoint(
                    Math.random() * width,
                    Math.random() * height,
                    Math.floor(Math.random() * colors.length)
                ));
            }
        }

        function animateFluid() {
            time += 16; // ~60fps

            // Arka plan - koyu gradient
            const bgGrad = ctx.createRadialGradient(
                width / 2, height / 2, 0,
                width / 2, height / 2, Math.max(width, height)
            );
            bgGrad.addColorStop(0, '#1a0b2e');
            bgGrad.addColorStop(1, '#0d0417');
            ctx.fillStyle = bgGrad;
            ctx.fillRect(0, 0, width, height);

            // Her dalga noktasını güncelle ve çiz
            wavePoints.forEach(point => {
                point.update(time);
            });

            // Smooth gradient bloblar çiz
            ctx.globalCompositeOperation = 'lighter';

            wavePoints.forEach(point => {
                const color = colors[point.colorIndex];

                // Çok büyük ve yumuşak radial gradient
                const grad = ctx.createRadialGradient(
                    point.x, point.y, 0,
                    point.x, point.y, point.radius
                );

                grad.addColorStop(0, `rgba(${color.r}, ${color.g}, ${color.b}, 0.4)`);
                grad.addColorStop(0.3, `rgba(${color.r}, ${color.g}, ${color.b}, 0.25)`);
                grad.addColorStop(0.6, `rgba(${color.r}, ${color.g}, ${color.b}, 0.1)`);
                grad.addColorStop(1, `rgba(${color.r}, ${color.g}, ${color.b}, 0)`);

                ctx.fillStyle = grad;
                ctx.beginPath();
                ctx.arc(point.x, point.y, point.radius, 0, Math.PI * 2);
                ctx.fill();
            });

            // Mouse çevresinde subtle darken efekti (glow değil)
            if (mouse.active) {
                ctx.globalCompositeOperation = 'multiply';
                const mouseGrad = ctx.createRadialGradient(
                    mouse.x, mouse.y, 0,
                    mouse.x, mouse.y, 200
                );
                mouseGrad.addColorStop(0, 'rgba(20, 10, 40, 0.3)');
                mouseGrad.addColorStop(0.5, 'rgba(30, 15, 50, 0.15)');
                mouseGrad.addColorStop(1, 'rgba(0, 0, 0, 0)');

                ctx.fillStyle = mouseGrad;
                ctx.beginPath();
                ctx.arc(mouse.x, mouse.y, 200, 0, Math.PI * 2);
                ctx.fill();
            }

            ctx.globalCompositeOperation = 'source-over';

            requestAnimationFrame(animateFluid);
        }

        window.addEventListener('resize', initFluid);

        document.addEventListener('mousemove', (e) => {
            if (!isLoaded) return; // Yüklenmeden mouse etkileşimi yok
            mouse.x = e.clientX;
            mouse.y = e.clientY;
            mouse.active = true;
        });

        document.addEventListener('mouseleave', () => {
            mouse.active = false;
        });

        document.addEventListener('touchmove', (e) => {
            if (!isLoaded) return;
            mouse.x = e.touches[0].clientX;
            mouse.y = e.touches[0].clientY;
            mouse.active = true;
        }, { passive: true });

        document.addEventListener('touchend', () => {
            mouse.active = false;
        });

        initFluid();
        animateFluid();


        // --- 3. HELPER LOGIC ---
        // Mobile Height Fix
        const setAppHeight = () => {
            document.documentElement.style.setProperty('--app-height', `${window.innerHeight}px`);
        };
        window.addEventListener('resize', setAppHeight);
        setAppHeight();

        // Reveal Animation
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal-element').forEach(el => observer.observe(el));

        // Blur & Scroll Indicator
        const blurLayer = document.getElementById('blur-layer');
        const scrollIndicator = document.getElementById('scroll-indicator-container');
        let hasScrolled = false;

        window.addEventListener('scroll', () => {
            const scrollY = window.scrollY;

            if (!hasScrolled && scrollY > 50) {
                scrollIndicator.style.opacity = '0';
                hasScrolled = true;
            }

            const maxBlur = 16;
            const trigger = window.innerHeight * 0.6;
            let val = (scrollY / trigger) * maxBlur;
            if (val > maxBlur) val = maxBlur;

            blurLayer.style.backdropFilter = `blur(${val}px)`;
            blurLayer.style.webkitBackdropFilter = `blur(${val}px)`;
        });

    </script>
</body>
</html>
